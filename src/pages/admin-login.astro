---
// Halaman login admin berbasis Supabase
// import Layout dihapus agar header tidak muncul
---

<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300">
  <div class="bg-white/80 backdrop-blur-lg shadow-xl rounded-xl p-8 w-full max-w-md">
    <h1 class="text-2xl font-bold mb-6 text-blue-800 text-center">Login Admin</h1>
    <form id="admin-login-form" class="space-y-4">
      <input type="email" id="email" class="w-full border rounded px-3 py-2" placeholder="Email" required />
      <input type="password" id="password" class="w-full border rounded px-3 py-2" placeholder="Password" required />
      <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 rounded">Login</button>
      <div id="login-message" class="text-center text-red-500 mt-2"></div>
    </form>
  </div>
</div>

<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
  const supabaseUrl = 'https://jcfizceoycwdvpqpwhrj.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpjZml6Y2VveWN3ZHZwcXB3aHJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NzUzNzUsImV4cCI6MjA2NDE1MTM3NX0.Au9FzSYvpaX7SkaVrgJvIgK9fZu5Dq4cU_NI5iwY6aA';
  const supabase = createClient(supabaseUrl, supabaseKey);

  document.getElementById('admin-login-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });
    if (error) {
      document.getElementById('login-message').innerText = error.message;
    } else {
      // Redirect ke dashboard admin jika login berhasil
      window.location.href = '/admin-dashboard';
    }
  });
</script>

