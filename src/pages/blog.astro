---
// Halaman Blog modern IniEdu
---

<html lang="id">
  <head>
    <title>Blog | IniEdu</title>
    <meta name="description" content="Blog edukasi, tips belajar, dan inspirasi dari IniEdu. Temukan artikel menarik dan update terbaru di sini!" />
  </head>
  <body class="min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-purple-100 flex flex-col">
    <!-- Wallpaper Slide (dummy, ganti dengan slider dinamis nanti) -->
    <div class="relative w-full h-64 flex items-center justify-center overflow-hidden mb-8">
      <img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1200&q=80" alt="Wallpaper Blog" class="absolute w-full h-full object-cover opacity-80 transition-all duration-700" />
      <div class="relative z-10 text-center">
        <div class="inline-block px-8 py-4 rounded-2xl backdrop-blur-md bg-white/30 shadow-lg">
          <h1 class="text-4xl md:text-5xl font-extrabold mb-2 bg-gradient-to-r from-blue-500 via-pink-400 to-purple-600 bg-clip-text text-transparent animate-gradient-shimmer text-shadow-strong">
            Blog <span class="inline-block animate-gradient-shimmer-2">IniEdu</span>
          </h1>
        </div>
        <style>
          @keyframes gradient-shimmer {
            0%, 100% {
              background-position: 0% 50%;
            }
            50% {
              background-position: 100% 50%;
            }
          }
          .animate-gradient-shimmer {
            background-size: 200% 200%;
            animation: gradient-shimmer 3s linear infinite;
          }
          .animate-gradient-shimmer-2 {
            background: linear-gradient(90deg, #f59e42, #65d6ce, #845ec2, #ff6f91, #f59e42);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient-shimmer 4s linear infinite;
          }
          .text-shadow-strong {
            text-shadow: 0 4px 24px rgba(0,0,0,0.45), 0 1px 2px rgba(0,0,0,0.25), 0 0px 2px rgba(0,0,0,0.18);
          }
        </style>
        <p class="text-lg md:text-xl font-semibold mt-2 mb-0 text-blue-700">Inspirasi, tips belajar, dan cerita menarik untuk kamu!</p>
      </div>
    </div>

    <!-- Daftar Postingan Blog (dinamis dari Supabase) -->
    <main class="flex-1 container mx-auto px-4 pb-16">
      <div id="blog-list" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        <div class="col-span-full text-center text-gray-400" id="blog-loading">Loading...</div>
      </div>
      <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
        const supabase = createClient(
          'https://jcfizceoycwdvpqpwhrj.supabase.co',
          'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpjZml6Y2VveWN3ZHZwcXB3aHJqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1NzUzNzUsImV4cCI6MjA2NDE1MTM3NX0.Au9FzSYvpaX7SkaVrgJvIgK9fZu5Dq4cU_NI5iwY6aA'
        );
        async function loadBlogs() {
          const list = document.getElementById('blog-list');
          const loading = document.getElementById('blog-loading');
          const { data, error } = await supabase.from('blog').select('*').order('created_at', { ascending: false });
          if (loading) loading.remove();
          if (error) {
            list.innerHTML = `<div class='col-span-full text-center text-red-600'>Gagal load blog: ${error.message}</div>`;
            return;
          }
          if (!data || data.length === 0) {
            list.innerHTML = `<div class='col-span-full text-center text-gray-400'>Belum ada artikel blog.</div>`;
            return;
          }
          list.innerHTML = '';
          for (const blog of data) {
            const card = document.createElement('article');
            card.className = 'bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all flex flex-col';
            card.innerHTML = `
              <img src="${blog.image || 'https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1200&q=80'}" alt="${blog.title}" class="w-full h-48 object-cover" />
              <div class="p-6 flex flex-col flex-1">
                <h2 class="text-xl font-bold mb-2 text-blue-700">${blog.title}</h2>
                <p class="text-gray-600 flex-1">${blog.content.length > 120 ? blog.content.slice(0,120)+'...' : blog.content}</p>
                <a href="/blog-detail?id=${blog.id}" class="mt-4 inline-block text-blue-600 font-semibold hover:underline">Baca Selengkapnya</a>
              </div>
              <div class="border-t border-gray-200 px-6 py-3 text-xs text-gray-500 flex justify-between items-center">
                <span>${blog.created_at ? new Date(blog.created_at).toLocaleDateString('id-ID', { day:'numeric', month:'long', year:'numeric'}) : '-'}</span>
                ${blog.source ? `<span class='italic text-gray-400'>${blog.source}</span>` : ''}
              </div>
            `;
            list.appendChild(card);
          }
        }
        document.addEventListener('DOMContentLoaded', loadBlogs);
      </script>

      </div>
    </main>
  </body>
</html>
